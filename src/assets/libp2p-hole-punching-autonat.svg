<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="406px" preserveAspectRatio="none" style="width:456px;height:406px;" version="1.1" viewBox="0 0 456 406" width="456px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ijqxa93tlwos" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ijqxa93tlwos)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="390" x="13" y="118.6953"/><rect fill="#FFFFFF" filter="url(#f1ijqxa93tlwos)" height="165.8672" style="stroke: #000000; stroke-width: 2.0;" width="431" x="13" y="178.9609"/><rect fill="#FFFFFF" height="74.2031" style="stroke: none; stroke-width: 1.0;" width="431" x="13" y="270.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="37" x2="37" y1="42.2969" y2="361.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="258" x2="258" y1="42.2969" y2="361.8281"/><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="24" x="23" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="10" x="30" y="26.9951">B</text><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="24" x="23" y="360.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="10" x="30" y="380.8232">B</text><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="208" y="3"/><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="204" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="211" y="26.9951">Other_Peers</text><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="208" y="360.8281"/><rect fill="#FEFECE" filter="url(#f1ijqxa93tlwos)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="204" y="364.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="211" y="384.8232">Other_Peers</text><polygon fill="#A80036" points="246,99.6953,256,103.6953,246,107.6953,250,103.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37" x2="252" y1="103.6953" y2="103.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="44" y="68.3638">DialRequest {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="52" y="83.4966">supposedly_public_addresses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="44" y="98.6294">}</text><path d="M13,118.6953 L398,118.6953 L398,125.6953 L388,135.6953 L13,135.6953 L13,118.6953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="390" x="13" y="118.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="340" x="28" y="131.7622">For each provided supposedly public address</text><polygon fill="#A80036" points="48,152.9609,38,156.9609,48,160.9609,44,156.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="257" y1="156.9609" y2="156.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="54" y="151.895">Dial</text><path d="M13,178.9609 L77,178.9609 L77,185.9609 L67,195.9609 L13,195.9609 L13,178.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="165.8672" style="stroke: #000000; stroke-width: 2.0;" width="431" x="13" y="178.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="192.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="347" x="92" y="191.1714">[Dialable. No need for Hole Punching. Don't continue.]</text><polygon fill="#A80036" points="48,258.625,38,262.625,48,266.625,44,262.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="257" y1="262.625" y2="262.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="54" y="212.1606">DialOutcome {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="62" y="227.2935">"Ok"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="62" y="242.4263">successful_address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="54" y="257.5591">}</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="444" y1="271.625" y2="271.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="310" x="18" y="281.8354">[Not dialable. Hole Punching needed. Continue.]</text><polygon fill="#A80036" points="48,332.8281,38,336.8281,48,340.8281,44,336.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="257" y1="336.8281" y2="336.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="54" y="301.4966">DialOutcome {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="62" y="316.6294">"Error"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="54" y="331.7622">}</text><!--MD5=[5d26da535b1fbfaaf952dca90e038f31]
@startuml
participant B
collections Other_Peers

B -> Other_Peers: DialRequest {\n  supposedly_public_addresses\n}

group For each provided supposedly public address
Other_Peers -> B: Dial
end

alt Dialable. No need for Hole Punching. Don't continue.
    Other_Peers -> B: DialOutcome {\n  "Ok"\n  successful_address\n}
else Not dialable. Hole Punching needed. Continue.
    Other_Peers -> B: DialOutcome {\n  "Error"\n}
end
@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.13+8-post-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>